const blackJack=(()=>{"use strict";let e=[],t=[];const n=["C","D","H","S"],a=["A","J","Q","K"],l=document.getElementById("pedir"),r=document.getElementById("stop"),o=document.getElementById("ng"),c=document.querySelectorAll("small"),d=document.querySelectorAll(".divCartas"),s=(n=2)=>{e=i(),t=[];for(let e=0;e<n;e++)t.push(0);c.forEach(e=>e.innerText=0),d.forEach(e=>e.innerHTML=""),l.disabled=!1,r.disabled=!1},i=()=>{e=[];for(let t=2;t<=10;t++)for(let a of n)e.push(t+a);for(let t of n)for(let n of a)e.push(n+t);return _.shuffle(e)},u=()=>{if(0===e.length)throw"Deck vacio";return e.pop()},g=(e,n)=>(t[n]+=(e=>{return 1*{1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,J:10,Q:10,K:10,A:11}[e.substring(0,e.length-1)]})(e),c[n].innerText=t[n],t[n]),f=(e,t)=>{const n=document.createElement("img");n.src="assets/cartas/"+e+".png",n.classList.add("carta"),d[t].append(n)},m=e=>{let n=0;do{const a=u();if(n=g(a,t.length-1),f(a,t.length-1),e>21)break}while(n<e&&e<=21);h(e,n)},h=(e,t)=>{setTimeout(function(){e===t?alert("Empate, nadie gana"):e>21?alert("La PC gana"):t>21?alert("El jugador gana"):e<t?alert("La PC gana"):e>t&&alert("El jugador gana")},200)},E=()=>{l.disabled=!0,r.disabled=!0};return l.addEventListener("click",()=>{const e=u();let t=g(e,0);f(e,0),t>21?(E(),m(t)):21===t&&(E(),m(t))}),r.addEventListener("click",()=>{E(),m(t[0])}),o.addEventListener("click",()=>{s()}),{nuevoJuego:s}})();